<!DOCTYPE html>
<html>
<head>
    <style>
        body {
            margin: 0;
            height: 100vh;
            background-color: black;
            user-select: none; /* Prevents text highlighting */
        }
    </style>
</head>
<body>
<script>
    // Target URL to open
    const targetURL = "https://bearclubstudios.github.io/amplertest.github.io/";

    // Detect protocol to handle local file scenarios
    const isLocal = window.location.protocol === "file:" || window.location.href.startsWith("C:/");

    // Listen for the Shift key press
    document.addEventListener("keydown", function(event) {
        if (event.key === "Shift") { // Check if Shift key is pressed
            // Open a new `about:blank` tab
            const newTab = window.open("about:blank", "_blank");

            if (newTab) {
                // Write redirection script to the new tab
                newTab.document.write(`
                    <html>
                    <head><title>Redirecting...</title></head>
                    <body style="margin: 0; background-color: black;"></body>
                    <script>
                        window.location.href = "${targetURL}";
                    </script>
                    </html>
                `);
                newTab.document.close();

                // Handle tab closing differently for local and non-local files
                if (isLocal) {
                    alert("The file tab cannot be closed automatically due to browser restrictions. Please close this tab manually.");
                } else {
                    // Attempt to close the current tab for non-local scenarios
                    setTimeout(() => {
                        try {
                            window.open('', '_self'); // Repoint the tab to itself
                            window.close(); // Try to close it
                        } catch (e) {
                            console.warn("Could not close the current tab.");
                        }
                    }, 1000); // Delay ensures the new tab loads first
                }
            } else {
                alert("Pop-ups are blocked. Please enable pop-ups for this site.");
            }

            // Prevent default behavior of the Shift key
            event.preventDefault();
        }
    });
</script>
</body>
</html>
